serviceAccount:
  create: true
  name: ""

replicaCount: 1

image:
  repository: "922581758696.dkr.ecr.eu-central-1.amazonaws.com/retail-store-orders"
  tag: "latest"
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 8080

resources:
  limits:
    cpu: "250m"
    memory: "512Mi"
  requests:
    cpu: "250m"
    memory: "512Mi"

env:
  - name: SPRING_PROFILES_ACTIVE
    value: "prod"

  # PostgreSQL database configuration
  - name: DB_HOST
    value: "postgresql.retail-store.svc.cluster.local"
  - name: DB_PORT
    value: "5432"
  - name: DB_NAME
    value: "retaildb"
  - name: DB_USERNAME
    valueFrom:
      secretKeyRef:
        name: postgresql
        key: username
  - name: DB_PASSWORD
    valueFrom:
      secretKeyRef:
        name: postgresql
        key: password

  # Optional application configs
  - name: LOG_LEVEL
    value: "INFO"

healthCheck:
  path: /health
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 2
  failureThreshold: 3

hpa:
  enabled: true
  minReplicas: 1
  maxReplicas: 5
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 80

pdb:
  enabled: true
  minAvailable: 1

